{% load basket %}

<form method="post" action="{% url 'basket-edit' %}">
    {% csrf_token %}
    <input type="hidden" name="product_id" value="{{ product_id }}">
    {% if user_product_ids|product_exists:product_id %}
        <button class="btn btn-danger mt-2">Remove</button>
    {% else %}
        <button class="btn btn-success mt-2">Add</button>
    {% endif %}
</form>